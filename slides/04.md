---
presentation:
  margin: 0
  center: false
  transition: "convex"
  enableSpeakerNotes: true
  slideNumber: "c/t"
  navigationMode: "linear"
---

@import "../css/font-awesome-4.7.0/css/font-awesome.css"
@import "../css/theme/solarized.css"
@import "../css/logo.css"
@import "../css/font.css"
@import "../css/color.css"
@import "../css/margin.css"
@import "../css/table.css"
@import "../css/main.css"
@import "../plugin/zoom/zoom.js"
@import "../plugin/customcontrols/plugin.js"
@import "../plugin/customcontrols/style.css"
@import "../plugin/chalkboard/plugin.js"
@import "../plugin/chalkboard/style.css"
@import "../plugin/menu/menu.js"
@import "../js/anychart/anychart-core.min.js"
@import "../js/anychart/anychart-venn.min.js"
@import "../js/anychart/pastel.min.js"
@import "../js/anychart/venn-ml.js"

<!-- slide data-notes="" -->

<div class="bottom20"></div>

# 机器学习

<hr class="width50 center">

## 决策树

<div class="bottom8"></div>

### 计算机学院 &nbsp;&nbsp; 张腾

#### _tengzhang@hust.edu.cn_

<!-- slide vertical=true data-notes="" -->

##### 大纲

---

@import "../vega/outline.json" {as="vega" .top-2}

<!-- slide data-notes="" -->

##### 符号学派 规则学习

---

规则学习中的{==规则==} (rule) 指狭义的逻辑规则，呈 if-then 形式

$$
\begin{align*}
    \qquad \overbrace{\otimes}^{\text{规则头}} \underbrace{\longleftarrow}_{\text{蕴含}} \overbrace{f_1 \wedge \underbrace{f_2}_{\text{文字}} \wedge \cdots \wedge f_L}^{\text{规则体}}
\end{align*}
$$

文字 (literal)：对特征进行检验的布尔表达式，如$(\text{天气 = 雨天})$

- 规则头：也是文字，一般表示规则判定的标记、类别或概念
- 规则体：即前提，由逻辑文字组成的合取式，文字个数称为规则长度

<div class="top4"></div>

一个规则可以看成一个学习模型

符合规则的样本称为被该规则{==覆盖==} (cover)

<!-- slide vertical=true data-notes="" -->

##### 覆盖

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column3-blue row2-column3-blue row3-column3-blue row4-column3-blue row5-column3-blue row1-column6-blue row2-column6-blue row3-column6-blue row4-column6-blue row5-column6-blue  row1-column8-blue row2-column8-blue row3-column8-blue row4-column8-blue row5-column8-blue row11-column5-red row16-column5-red row11-column8-red row16-column8-red">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-51per left60per fs14">$\class{blue}{\text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{疫情=清零})}$</p>

<p class="top28per left60per fs14">$\class{red}{\text{否} \longleftarrow (\text{课业=繁重})}$</p>

<!-- slide vertical=true data-notes="" -->

##### 冲突

---

一个样本若被判定结果不同的多个规则覆盖，称发生了{==冲突==}

{==冲突消解==} (conflict resolution)：

- 投票法：少数服从多数
- 排序法：在规则集合上定义一个优先级顺序
- 元规则法：规则的规则，例如“发生冲突时使用长度最小的规则”

<div class="top2"></div>

规则集合未必能覆盖所有未知样本

$$
\begin{align*}
    \qquad \qquad \text{规则集合} = \begin{cases}
        \text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{疫情=清零}) \\
        \text{否} \longleftarrow (\text{课业=繁重}) \end{cases}
\end{align*}
$$

默认规则：例如“未被规则集合覆盖的都不约会”

<!-- slide data-notes="" -->

##### 序贯覆盖

---

序贯覆盖 (sequential covering)，即逐条归纳

- 从空规则开始，将正类作为规则头，遍历每个特征的取值
- 若当前规则的规则体仅覆盖正类样本，则由此产生一条规则
- 去掉所有已被覆盖的样本
- 在剩下的训练数据集上重复上述过程

<!-- slide data-transition="convex-in none" vertical=true data-notes="" -->

##### 序贯覆盖 单文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover top-3 fs10 left4 righta row9-border-top-dashed row1-column2-magenta row1-column8-magenta row4-column2-magenta row4-column8-magenta row6-column2-magenta row6-column8-magenta row10-column2-magenta row10-column8-magenta row13-column2-magenta row13-column8-magenta row17-column2-magenta row17-column8-magenta">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周六})$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 单文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover top-3 fs10 left4 righta row9-border-top-dashed row2-column2-magenta row2-column8-magenta row3-column2-magenta row3-column8-magenta row7-column2-magenta row7-column8-magenta row8-column2-magenta row8-column8-magenta row9-column2-magenta row9-column8-magenta row15-column2-magenta row15-column8-magenta">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日})$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column2-magenta row1-column3-magenta row1-column8-magenta row4-column2-magenta row4-column3-magenta row4-column8-magenta row17-column2-magenta row17-column3-magenta row17-column8-magenta">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周六}) \wedge (\text{方式=吃饭})$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta row5-column2-red row5-column5-red row5-column8-red">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<p class="left60per fs14">$\class{red}{\text{是} \longleftarrow (\text{时间=周间}) \wedge (\text{课业=轻松})}$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta row5-column2-red row5-column5-red row5-column8-red row1-column3-yellow row1-column5-yellow row1-column8-yellow row4-column3-yellow row4-column5-yellow row4-column8-yellow">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<p class="left60per fs14">$\class{red}{\text{是} \longleftarrow (\text{时间=周间}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{yellow}{\text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{课业=轻松})}$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta row5-column2-red row5-column5-red row5-column8-red row1-column3-yellow row1-column5-yellow row1-column8-yellow row4-column3-yellow row4-column5-yellow row4-column8-yellow row8-column5-blue row8-column7-blue row8-column8-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<p class="left60per fs14">$\class{red}{\text{是} \longleftarrow (\text{时间=周间}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{yellow}{\text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{blue}{\text{是} \longleftarrow (\text{课业=轻松}) \wedge (\text{电视=精彩})}$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 双文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta row5-column2-red row5-column5-red row5-column8-red row1-column3-yellow row1-column5-yellow row1-column8-yellow row4-column3-yellow row4-column5-yellow row4-column8-yellow row8-column5-blue row8-column7-blue row8-column8-blue row7-column5-orange row7-column7-orange row7-column8-orange">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<p class="left60per fs14">$\class{red}{\text{是} \longleftarrow (\text{时间=周间}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{yellow}{\text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{blue}{\text{是} \longleftarrow (\text{课业=轻松}) \wedge (\text{电视=精彩})}$</p>

<p class="left60per fs14">$\class{orange}{\text{是} \longleftarrow (\text{课业=适中}) \wedge (\text{电视=无聊})}$</p>

<!-- slide data-transition="none" vertical=true data-notes="" -->

##### 序贯覆盖 三文字规则

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row2-column2-magenta row2-column3-magenta row2-column8-magenta row3-column2-magenta row3-column3-magenta row3-column8-magenta row5-column2-red row5-column5-red row5-column8-red row1-column3-yellow row1-column5-yellow row1-column8-yellow row4-column3-yellow row4-column5-yellow row4-column8-yellow row8-column5-blue row8-column7-blue row8-column8-blue row7-column5-orange row7-column7-orange row7-column8-orange row6-column2-cyan row6-column3-cyan row6-column5-cyan row6-column8-cyan">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<p class="top-53per left60per fs14">$\text{是} \longleftarrow (\text{时间=周日}) \wedge (\text{方式=吃饭})$</p>

<p class="left60per fs14">$\class{red}{\text{是} \longleftarrow (\text{时间=周间}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{yellow}{\text{是} \longleftarrow (\text{方式=吃饭}) \wedge (\text{课业=轻松})}$</p>

<p class="left60per fs14">$\class{blue}{\text{是} \longleftarrow (\text{课业=轻松}) \wedge (\text{电视=精彩})}$</p>

<p class="left60per fs14">$\class{orange}{\text{是} \longleftarrow (\text{课业=适中}) \wedge (\text{电视=无聊})}$</p>

<p class="left60per fs14">$\class{cyan}{\text{是} \longleftarrow (\text{时间=周六}) \wedge (\text{方式=逛街}) \\ \quad \quad \quad \wedge (\text{课业=轻松})}$</p>

<!-- slide data-notes="" -->

##### 决策树

---

序贯覆盖：删除样本<br>决策树：划分样本

```dot {.center .top-12}
digraph g {
    graph [nodesep=1.0, ranksep=0.3]
    bgcolor="transparent"
    node [shape=box color="#586e75" fontcolor="#b58900" fontsize=20 fontname="Ysabeau,LXGWWenKai"]
    edge [color="#586e75" fontcolor="#268bd2" fontsize=18 fontname="Ysabeau,LXGWWenKai" arrowhead=none]

    "课业 = ？" -> "方式 = ？" [label="轻松"]
    "课业 = ？" -> "电视 = ？" [label="适中"]

    node [shape=ellipse]
    y1 [label="是"]
    y2 [label="是"]
    y4 [label="是"]
    n1 [label="否"]

    n3 [label="否"]
    n4 [label="否"]

    "课业 = ？" -> "n1" [label="繁重"]

    "方式 = ？" -> "是" [xlabel="吃饭"]

    node [shape=box]
    "方式 = ？" -> "时间 = ？" [headlabel="逛街" labeldistance=4]

    node [shape=ellipse]
    n2 [label="否"]
    "方式 = ？" -> "n2" [label="学习"]

    "电视 = ？" -> "y1" [headlabel="精彩" labeldistance=2]
    "电视 = ？" -> "n3" [label="无聊"]

    "时间 = ？" -> "y2" [label="周六"]

    node [shape=box]
    tv [label="电视 = ？"]

    "时间 = ？" -> tv [label="周日"]

    node [shape=ellipse]
    y3 [label="是"]
    "时间 = ？" -> "y3" [label="周间"]

    tv -> "y4" [headlabel="精彩" labeldistance=4]
    tv -> "n4" [label="无聊"]
}
```

<!-- slide vertical=true data-notes="" -->

##### 基本算法

---

输入：训练集$D = \{ (\xv_i, y_i) \}_{i \in [m]}$，属性集$A = \{ a_j \}_{j \in [d]}$<br>过程：函数$\TG(D,A)$

1. 生成结点$\node$
2. {==if==} $D$中样本全属于同一类别$C$ {==then==} &nbsp;&nbsp;&nbsp;&nbsp;<span class="cyan">// 递归情形 1</span>
3. &emsp;&emsp;将$\node$标记为$C$类叶结点 {==return==}
4. {==if==} $A = \emptyset$ {==or==} $D$中样本在$A$上取值相同 {==then==} &nbsp;&nbsp;&nbsp;&nbsp;<span class="cyan">// 递归情形 2</span>
5. &emsp;&emsp;将$\node$标记为叶结点，其类别标记为$D$中样本最多的类 {==return==}
6. 从$A$中选择最优划分属性$a_\star$，对$a_\star$的每一个取值$a_\star^v$，为$\node$生成一个分支，令$D_v$表示$D$在$a_\star$上取值为$a_\star^v$的样本子集
7. {==if==} $D_v = \emptyset$ {==then==} &nbsp;&nbsp;&nbsp;&nbsp;<span class="cyan">// 递归情形 3</span>
8. &emsp;&emsp;将分支结点标记为叶结点，其类别标记为$D$中样本最多的类 {==return==}
9. {==else==}
10. &emsp;&emsp;以$\TG(D_v, A \setminus \{ a_\star \})$为分支结点

输出：以$\node$为根结点的一棵决策树

<!-- slide data-notes="" -->

##### 划分

---

目标：随着划分的不断进行，决策树结点的{==纯度==}越来越高

设数据集$D$中第$k$类样本的比例为$p_k = \Pr(y = k)$，{==熵==}定义为

$$
\begin{align*}
    \qquad H(D) = - \sum_{k \in [C]} p_k \log p_k
\end{align*}
$$

<div class="top-4"></div>

- 当$p_1 = \cdots = p_C = 1/C$时，$H(D) = \log C$，熵最大，纯度最低
- 当某个$p_i = 1$、其余为零时，$H(D) = 0$，熵最小，纯度最高

<div class="top4"></div>

设属性$a$取值为$a_1, \ldots, a_V$，据此可将$D$划分为$D_1, \ldots, D_V$

用属性$a$对$D$进行划分产生的{==信息增益==} (information gain)

$$
\begin{align*}
    \qquad \gain(D,a) = H(D) - \sum_{v \in [V]} \frac{|D_v|}{|D|} H(D_v)
\end{align*}
$$

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column2-red row4-column2-red row6-column2-red row10-column2-red row13-column2-red row17-column2-red row2-column2-yellow row3-column2-yellow row7-column2-yellow row8-column2-yellow row9-column2-yellow row15-column2-yellow row5-column2-blue row11-column2-blue row12-column2-blue row14-column2-blue row16-column2-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-周六，$\class{yellow}{D_2}$-周日，$\class{blue}{D_3}$-周间</span>

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{3}{6} \log \frac{3}{6} - \frac{3}{6} \log \frac{3}{6} = \log 2 = 1 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{4}{6} \log \frac{4}{6} - \frac{2}{6} \log \frac{2}{6} \\
    & = \log 3 - \frac{2}{3} = 0.918 \\[4pt]
    \class{blue}{H(D_3)} & = - \frac{1}{5} \log \frac{1}{5} - \frac{4}{5} \log \frac{4}{5} \\
    & = \log 5 - \frac{8}{5} = 0.722
\end{align*}
$$

<p class="top-3">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{时间}) = 0.998 - \frac{6}{17} \times 1 \\
    & - \frac{6}{17} \times 0.918 - \frac{5}{17} \times 0.722 = 0.108
\end{align*}
$$

</div>

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column3-red row2-column3-red row3-column3-red row4-column3-red row5-column3-red row12-column3-red row16-column3-red row17-column3-red row6-column3-yellow row7-column3-yellow row8-column3-yellow row9-column3-yellow row13-column3-yellow row14-column3-yellow row15-column3-yellow row10-column3-blue row11-column3-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-吃饭，$\class{yellow}{D_2}$-逛街，$\class{blue}{D_3}$-学习</span>

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{5}{8} \log \frac{5}{8} - \frac{3}{8} \log \frac{3}{8} \\
    & = 3 - \frac{5}{8} \log 5 - \frac{3}{8} \log 3 = 0.954 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{3}{7} \log \frac{3}{7} - \frac{4}{7} \log \frac{4}{7} \\
    & = \log 7 - \frac{3}{7} \log 3 - \frac{8}{7} = 0.985 \\[4pt]
    \class{blue}{H(D_3)} & = 0
\end{align*}
$$

<p class="top-3">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{方式}) = 0.998 - \frac{8}{17} \times 0.954 \\
    & - \frac{7}{17} \times 0.985 = 0.143
\end{align*}
$$

</div>

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column4-red row3-column4-red row5-column4-red row6-column4-red row7-column4-red row8-column4-red row12-column4-red row13-column4-red row15-column4-red row16-column4-red row2-column4-yellow row4-column4-yellow row9-column4-yellow row14-column4-yellow row17-column4-yellow row10-column4-blue row11-column4-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-晴天，$\class{yellow}{D_2}$-阴天，$\class{blue}{D_3}$-雨天</span>

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{6}{10} \log \frac{6}{10} - \frac{4}{10} \log \frac{4}{10} \\
    & = \log 5 - \frac{3}{5} \log 3 - \frac{2}{5} = 0.971 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{2}{5} \log \frac{2}{5} - \frac{3}{5} \log \frac{3}{5} \\
    & = \log 5 - \frac{3}{5} \log 3 - \frac{2}{5} = 0.971 \\[4pt]
    \class{blue}{H(D_3)} & = 0
\end{align*}
$$

<p class="top-3">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{天气}) = 0.998 - \frac{10}{17} \times 0.971 \\
    & - \frac{5}{17} \times 0.971 = 0.141
\end{align*}
$$

</div>

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column5-red row2-column5-red row3-column5-red row4-column5-red row5-column5-red row6-column5-red row8-column5-red row10-column5-red row15-column5-red row7-column5-yellow row9-column5-yellow row13-column5-yellow row14-column5-yellow row17-column5-yellow row11-column5-blue row12-column5-blue row16-column5-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-轻松，$\class{yellow}{D_2}$-适中，$\class{blue}{D_3}$-繁重</span>

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{7}{9} \log \frac{7}{9} - \frac{2}{9} \log \frac{2}{9} \\
    & = 2 \log 3 - \frac{7}{9} \log 7 - \frac{2}{9} = 0.764 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{1}{5} \log \frac{1}{5} - \frac{4}{5} \log \frac{4}{5} \\
    & = \log 5 - \frac{8}{5} = 0.722 \\[4pt]
    \class{blue}{H(D_3)} & = 0
\end{align*}
$$

<p class="top-3">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{课业}) = 0.998 - \frac{9}{17} \times 0.764 \\
    & - \frac{5}{17} \times 0.722 = 0.381
\end{align*}
$$

</div>

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column6-red row2-column6-red row3-column6-red row4-column6-red row5-column6-red row13-column6-red row14-column6-red row6-column6-yellow row7-column6-yellow row8-column6-yellow row9-column6-yellow row15-column6-yellow row17-column6-yellow row10-column6-blue row11-column6-blue row12-column6-blue row16-column6-blue">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-清零，$\class{yellow}{D_2}$-平缓，$\class{blue}{D_3}$-严峻</span>

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{5}{7} \log \frac{5}{7} - \frac{2}{7} \log \frac{2}{7} \\
    & = \log 7 - \frac{5}{7} \log 5 - \frac{2}{7} = 0.863 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{3}{6} \log \frac{3}{6} - \frac{3}{6} \log \frac{3}{6} = \log 2 = 1 \\[4pt]
    \class{blue}{H(D_3)} & = 0
\end{align*}
$$

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{疫情}) = 0.998 - \frac{7}{17} \times 0.863 \\
    & - \frac{6}{17} \times 1 = 0.289
\end{align*}
$$

</div>

<!-- slide vertical=true data-notes="" -->

##### 信息增益

---

<div class="threelines column7-border-right-solid head-highlight-1 tr-hover row9-border-top-dashed top-3 fs10 left4 righta row1-column7-red row2-column7-red row3-column7-red row4-column7-red row5-column7-red row8-column7-red row9-column7-red row11-column7-red row13-column7-red row14-column7-red row16-column7-red row17-column7-red row6-column7-yellow row7-column7-yellow row10-column7-yellow row12-column7-yellow row15-column7-yellow">

| 次序 | 时间 | 方式 | 天气 | 课业 | 疫情 | 电视 | 约会 |
| :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  1   | 周六 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  2   | 周日 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  3   | 周日 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  4   | 周六 | 吃饭 | 阴天 | 轻松 | 清零 | 精彩 |  是  |
|  5   | 周间 | 吃饭 | 晴天 | 轻松 | 清零 | 精彩 |  是  |
|  6   | 周六 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  是  |
|  7   | 周日 | 逛街 | 晴天 | 适中 | 平缓 | 无聊 |  是  |
|  8   | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 精彩 |  是  |
|  9   | 周日 | 逛街 | 阴天 | 适中 | 平缓 | 精彩 |  否  |
|  10  | 周六 | 学习 | 雨天 | 轻松 | 严峻 | 无聊 |  否  |
|  11  | 周间 | 学习 | 雨天 | 繁重 | 严峻 | 精彩 |  否  |
|  12  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 无聊 |  否  |
|  13  | 周六 | 逛街 | 晴天 | 适中 | 清零 | 精彩 |  否  |
|  14  | 周间 | 逛街 | 阴天 | 适中 | 清零 | 精彩 |  否  |
|  15  | 周日 | 逛街 | 晴天 | 轻松 | 平缓 | 无聊 |  否  |
|  16  | 周间 | 吃饭 | 晴天 | 繁重 | 严峻 | 精彩 |  否  |
|  17  | 周六 | 吃饭 | 阴天 | 适中 | 平缓 | 精彩 |  否  |

</div>

<div class="left55per fs13 top-60per">

$$
\begin{align*}
    H(D) & = - \frac{8}{17} \log \frac{8}{17} - \frac{9}{17} \log \frac{9}{17} \\
    & = \log 17 - \frac{18}{17} \log 3 - \frac{24}{17} = 0.998
\end{align*}
$$

<p class="top-4">&emsp;</p>

<span style="font-size:1.2em">$\class{red}{D_1}$-精彩，$\class{yellow}{D_2}$-无聊

<p class="top-2">&emsp;</p>

$$
\begin{align*}
    \class{red}{H(D_1)} & = - \frac{6}{12} \log \frac{6}{12} - \frac{6}{12} \log \frac{6}{12} = 1 \\[4pt]
    \class{yellow}{H(D_2)} & = - \frac{2}{5} \log \frac{2}{5} - \frac{3}{5} \log \frac{3}{5} \\
    & = \log 5 - \frac{3}{5} \log 3 - \frac{2}{5} = 0.971
\end{align*}
$$

<p class="top-3">&emsp;</p>

$$
\begin{align*}
    \gain & (D, \text{电视}) = 0.998 - \frac{12}{17} \times 1 \\
    & - \frac{5}{17} \times 0.971 = 
\end{align*}
$$

</div>
